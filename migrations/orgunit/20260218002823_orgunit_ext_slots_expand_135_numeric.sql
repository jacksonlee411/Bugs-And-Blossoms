-- +goose Up
-- modify "org_unit_versions" table
ALTER TABLE "orgunit"."org_unit_versions" ADD COLUMN "ext_int_02" integer NULL, ADD COLUMN "ext_int_03" integer NULL, ADD COLUMN "ext_int_04" integer NULL, ADD COLUMN "ext_int_05" integer NULL, ADD COLUMN "ext_int_06" integer NULL, ADD COLUMN "ext_int_07" integer NULL, ADD COLUMN "ext_int_08" integer NULL, ADD COLUMN "ext_int_09" integer NULL, ADD COLUMN "ext_int_10" integer NULL, ADD COLUMN "ext_int_11" integer NULL, ADD COLUMN "ext_int_12" integer NULL, ADD COLUMN "ext_int_13" integer NULL, ADD COLUMN "ext_int_14" integer NULL, ADD COLUMN "ext_int_15" integer NULL, ADD COLUMN "ext_uuid_02" uuid NULL, ADD COLUMN "ext_uuid_03" uuid NULL, ADD COLUMN "ext_uuid_04" uuid NULL, ADD COLUMN "ext_uuid_05" uuid NULL, ADD COLUMN "ext_uuid_06" uuid NULL, ADD COLUMN "ext_uuid_07" uuid NULL, ADD COLUMN "ext_uuid_08" uuid NULL, ADD COLUMN "ext_uuid_09" uuid NULL, ADD COLUMN "ext_uuid_10" uuid NULL, ADD COLUMN "ext_bool_02" boolean NULL, ADD COLUMN "ext_bool_03" boolean NULL, ADD COLUMN "ext_bool_04" boolean NULL, ADD COLUMN "ext_bool_05" boolean NULL, ADD COLUMN "ext_bool_06" boolean NULL, ADD COLUMN "ext_bool_07" boolean NULL, ADD COLUMN "ext_bool_08" boolean NULL, ADD COLUMN "ext_bool_09" boolean NULL, ADD COLUMN "ext_bool_10" boolean NULL, ADD COLUMN "ext_bool_11" boolean NULL, ADD COLUMN "ext_bool_12" boolean NULL, ADD COLUMN "ext_bool_13" boolean NULL, ADD COLUMN "ext_bool_14" boolean NULL, ADD COLUMN "ext_bool_15" boolean NULL, ADD COLUMN "ext_date_02" date NULL, ADD COLUMN "ext_date_03" date NULL, ADD COLUMN "ext_date_04" date NULL, ADD COLUMN "ext_date_05" date NULL, ADD COLUMN "ext_date_06" date NULL, ADD COLUMN "ext_date_07" date NULL, ADD COLUMN "ext_date_08" date NULL, ADD COLUMN "ext_date_09" date NULL, ADD COLUMN "ext_date_10" date NULL, ADD COLUMN "ext_date_11" date NULL, ADD COLUMN "ext_date_12" date NULL, ADD COLUMN "ext_date_13" date NULL, ADD COLUMN "ext_date_14" date NULL, ADD COLUMN "ext_date_15" date NULL, ADD COLUMN "ext_num_01" numeric NULL, ADD COLUMN "ext_num_02" numeric NULL, ADD COLUMN "ext_num_03" numeric NULL, ADD COLUMN "ext_num_04" numeric NULL, ADD COLUMN "ext_num_05" numeric NULL, ADD COLUMN "ext_num_06" numeric NULL, ADD COLUMN "ext_num_07" numeric NULL, ADD COLUMN "ext_num_08" numeric NULL, ADD COLUMN "ext_num_09" numeric NULL, ADD COLUMN "ext_num_10" numeric NULL, ADD COLUMN "ext_str_06" text NULL, ADD COLUMN "ext_str_07" text NULL, ADD COLUMN "ext_str_08" text NULL, ADD COLUMN "ext_str_09" text NULL, ADD COLUMN "ext_str_10" text NULL, ADD COLUMN "ext_str_11" text NULL, ADD COLUMN "ext_str_12" text NULL, ADD COLUMN "ext_str_13" text NULL, ADD COLUMN "ext_str_14" text NULL, ADD COLUMN "ext_str_15" text NULL, ADD COLUMN "ext_str_16" text NULL, ADD COLUMN "ext_str_17" text NULL, ADD COLUMN "ext_str_18" text NULL, ADD COLUMN "ext_str_19" text NULL, ADD COLUMN "ext_str_20" text NULL, ADD COLUMN "ext_str_21" text NULL, ADD COLUMN "ext_str_22" text NULL, ADD COLUMN "ext_str_23" text NULL, ADD COLUMN "ext_str_24" text NULL, ADD COLUMN "ext_str_25" text NULL, ADD COLUMN "ext_str_26" text NULL, ADD COLUMN "ext_str_27" text NULL, ADD COLUMN "ext_str_28" text NULL, ADD COLUMN "ext_str_29" text NULL, ADD COLUMN "ext_str_30" text NULL, ADD COLUMN "ext_str_31" text NULL, ADD COLUMN "ext_str_32" text NULL, ADD COLUMN "ext_str_33" text NULL, ADD COLUMN "ext_str_34" text NULL, ADD COLUMN "ext_str_35" text NULL, ADD COLUMN "ext_str_36" text NULL, ADD COLUMN "ext_str_37" text NULL, ADD COLUMN "ext_str_38" text NULL, ADD COLUMN "ext_str_39" text NULL, ADD COLUMN "ext_str_40" text NULL, ADD COLUMN "ext_str_41" text NULL, ADD COLUMN "ext_str_42" text NULL, ADD COLUMN "ext_str_43" text NULL, ADD COLUMN "ext_str_44" text NULL, ADD COLUMN "ext_str_45" text NULL, ADD COLUMN "ext_str_46" text NULL, ADD COLUMN "ext_str_47" text NULL, ADD COLUMN "ext_str_48" text NULL, ADD COLUMN "ext_str_49" text NULL, ADD COLUMN "ext_str_50" text NULL, ADD COLUMN "ext_str_51" text NULL, ADD COLUMN "ext_str_52" text NULL, ADD COLUMN "ext_str_53" text NULL, ADD COLUMN "ext_str_54" text NULL, ADD COLUMN "ext_str_55" text NULL, ADD COLUMN "ext_str_56" text NULL, ADD COLUMN "ext_str_57" text NULL, ADD COLUMN "ext_str_58" text NULL, ADD COLUMN "ext_str_59" text NULL, ADD COLUMN "ext_str_60" text NULL, ADD COLUMN "ext_str_61" text NULL, ADD COLUMN "ext_str_62" text NULL, ADD COLUMN "ext_str_63" text NULL, ADD COLUMN "ext_str_64" text NULL, ADD COLUMN "ext_str_65" text NULL, ADD COLUMN "ext_str_66" text NULL, ADD COLUMN "ext_str_67" text NULL, ADD COLUMN "ext_str_68" text NULL, ADD COLUMN "ext_str_69" text NULL, ADD COLUMN "ext_str_70" text NULL;
-- create index "org_unit_versions_ext_str_06_idx" to table: "org_unit_versions"
CREATE INDEX "org_unit_versions_ext_str_06_idx" ON "orgunit"."org_unit_versions" ("tenant_uuid", "ext_str_06") WHERE (ext_str_06 IS NOT NULL);
-- create index "org_unit_versions_ext_str_07_idx" to table: "org_unit_versions"
CREATE INDEX "org_unit_versions_ext_str_07_idx" ON "orgunit"."org_unit_versions" ("tenant_uuid", "ext_str_07") WHERE (ext_str_07 IS NOT NULL);
-- create index "org_unit_versions_ext_str_08_idx" to table: "org_unit_versions"
CREATE INDEX "org_unit_versions_ext_str_08_idx" ON "orgunit"."org_unit_versions" ("tenant_uuid", "ext_str_08") WHERE (ext_str_08 IS NOT NULL);
-- create index "org_unit_versions_ext_str_09_idx" to table: "org_unit_versions"
CREATE INDEX "org_unit_versions_ext_str_09_idx" ON "orgunit"."org_unit_versions" ("tenant_uuid", "ext_str_09") WHERE (ext_str_09 IS NOT NULL);
-- create index "org_unit_versions_ext_str_10_idx" to table: "org_unit_versions"
CREATE INDEX "org_unit_versions_ext_str_10_idx" ON "orgunit"."org_unit_versions" ("tenant_uuid", "ext_str_10") WHERE (ext_str_10 IS NOT NULL);
-- create index "org_unit_versions_ext_str_11_idx" to table: "org_unit_versions"
CREATE INDEX "org_unit_versions_ext_str_11_idx" ON "orgunit"."org_unit_versions" ("tenant_uuid", "ext_str_11") WHERE (ext_str_11 IS NOT NULL);
-- create index "org_unit_versions_ext_str_12_idx" to table: "org_unit_versions"
CREATE INDEX "org_unit_versions_ext_str_12_idx" ON "orgunit"."org_unit_versions" ("tenant_uuid", "ext_str_12") WHERE (ext_str_12 IS NOT NULL);
-- create index "org_unit_versions_ext_str_13_idx" to table: "org_unit_versions"
CREATE INDEX "org_unit_versions_ext_str_13_idx" ON "orgunit"."org_unit_versions" ("tenant_uuid", "ext_str_13") WHERE (ext_str_13 IS NOT NULL);
-- create index "org_unit_versions_ext_str_14_idx" to table: "org_unit_versions"
CREATE INDEX "org_unit_versions_ext_str_14_idx" ON "orgunit"."org_unit_versions" ("tenant_uuid", "ext_str_14") WHERE (ext_str_14 IS NOT NULL);
-- create index "org_unit_versions_ext_str_15_idx" to table: "org_unit_versions"
CREATE INDEX "org_unit_versions_ext_str_15_idx" ON "orgunit"."org_unit_versions" ("tenant_uuid", "ext_str_15") WHERE (ext_str_15 IS NOT NULL);
-- create index "org_unit_versions_ext_str_16_idx" to table: "org_unit_versions"
CREATE INDEX "org_unit_versions_ext_str_16_idx" ON "orgunit"."org_unit_versions" ("tenant_uuid", "ext_str_16") WHERE (ext_str_16 IS NOT NULL);
-- create index "org_unit_versions_ext_str_17_idx" to table: "org_unit_versions"
CREATE INDEX "org_unit_versions_ext_str_17_idx" ON "orgunit"."org_unit_versions" ("tenant_uuid", "ext_str_17") WHERE (ext_str_17 IS NOT NULL);
-- create index "org_unit_versions_ext_str_18_idx" to table: "org_unit_versions"
CREATE INDEX "org_unit_versions_ext_str_18_idx" ON "orgunit"."org_unit_versions" ("tenant_uuid", "ext_str_18") WHERE (ext_str_18 IS NOT NULL);
-- create index "org_unit_versions_ext_str_19_idx" to table: "org_unit_versions"
CREATE INDEX "org_unit_versions_ext_str_19_idx" ON "orgunit"."org_unit_versions" ("tenant_uuid", "ext_str_19") WHERE (ext_str_19 IS NOT NULL);
-- create index "org_unit_versions_ext_str_20_idx" to table: "org_unit_versions"
CREATE INDEX "org_unit_versions_ext_str_20_idx" ON "orgunit"."org_unit_versions" ("tenant_uuid", "ext_str_20") WHERE (ext_str_20 IS NOT NULL);
-- modify "tenant_field_configs" table
ALTER TABLE "orgunit"."tenant_field_configs" DROP CONSTRAINT "tenant_field_configs_physical_col_format_check", ADD CONSTRAINT "tenant_field_configs_physical_col_format_check" CHECK (physical_col ~ '^ext_(str|int|uuid|bool|date|num)_[0-9]{2}$'::text), DROP CONSTRAINT "tenant_field_configs_physical_col_group_check", ADD CONSTRAINT "tenant_field_configs_physical_col_group_check" CHECK (((value_type = 'text'::text) AND (physical_col ~~ 'ext_str_%'::text)) OR ((value_type = 'int'::text) AND (physical_col ~~ 'ext_int_%'::text)) OR ((value_type = 'uuid'::text) AND (physical_col ~~ 'ext_uuid_%'::text)) OR ((value_type = 'bool'::text) AND (physical_col ~~ 'ext_bool_%'::text)) OR ((value_type = 'date'::text) AND (physical_col ~~ 'ext_date_%'::text)) OR ((value_type = 'numeric'::text) AND (physical_col ~~ 'ext_num_%'::text))), DROP CONSTRAINT "tenant_field_configs_value_type_check", ADD CONSTRAINT "tenant_field_configs_value_type_check" CHECK (value_type = ANY (ARRAY['text'::text, 'int'::text, 'uuid'::text, 'bool'::text, 'date'::text, 'numeric'::text]));

-- +goose Down
-- reverse: modify "tenant_field_configs" table
ALTER TABLE "orgunit"."tenant_field_configs" DROP CONSTRAINT "tenant_field_configs_value_type_check", ADD CONSTRAINT "tenant_field_configs_value_type_check" CHECK (value_type = ANY (ARRAY['text'::text, 'int'::text, 'uuid'::text, 'bool'::text, 'date'::text])), DROP CONSTRAINT "tenant_field_configs_physical_col_group_check", ADD CONSTRAINT "tenant_field_configs_physical_col_group_check" CHECK (((value_type = 'text'::text) AND (physical_col ~~ 'ext_str_%'::text)) OR ((value_type = 'int'::text) AND (physical_col ~~ 'ext_int_%'::text)) OR ((value_type = 'uuid'::text) AND (physical_col ~~ 'ext_uuid_%'::text)) OR ((value_type = 'bool'::text) AND (physical_col ~~ 'ext_bool_%'::text)) OR ((value_type = 'date'::text) AND (physical_col ~~ 'ext_date_%'::text))), DROP CONSTRAINT "tenant_field_configs_physical_col_format_check", ADD CONSTRAINT "tenant_field_configs_physical_col_format_check" CHECK (physical_col ~ '^ext_(str|int|uuid|bool|date)_[0-9]{2}$'::text);
-- reverse: create index "org_unit_versions_ext_str_20_idx" to table: "org_unit_versions"
DROP INDEX "orgunit"."org_unit_versions_ext_str_20_idx";
-- reverse: create index "org_unit_versions_ext_str_19_idx" to table: "org_unit_versions"
DROP INDEX "orgunit"."org_unit_versions_ext_str_19_idx";
-- reverse: create index "org_unit_versions_ext_str_18_idx" to table: "org_unit_versions"
DROP INDEX "orgunit"."org_unit_versions_ext_str_18_idx";
-- reverse: create index "org_unit_versions_ext_str_17_idx" to table: "org_unit_versions"
DROP INDEX "orgunit"."org_unit_versions_ext_str_17_idx";
-- reverse: create index "org_unit_versions_ext_str_16_idx" to table: "org_unit_versions"
DROP INDEX "orgunit"."org_unit_versions_ext_str_16_idx";
-- reverse: create index "org_unit_versions_ext_str_15_idx" to table: "org_unit_versions"
DROP INDEX "orgunit"."org_unit_versions_ext_str_15_idx";
-- reverse: create index "org_unit_versions_ext_str_14_idx" to table: "org_unit_versions"
DROP INDEX "orgunit"."org_unit_versions_ext_str_14_idx";
-- reverse: create index "org_unit_versions_ext_str_13_idx" to table: "org_unit_versions"
DROP INDEX "orgunit"."org_unit_versions_ext_str_13_idx";
-- reverse: create index "org_unit_versions_ext_str_12_idx" to table: "org_unit_versions"
DROP INDEX "orgunit"."org_unit_versions_ext_str_12_idx";
-- reverse: create index "org_unit_versions_ext_str_11_idx" to table: "org_unit_versions"
DROP INDEX "orgunit"."org_unit_versions_ext_str_11_idx";
-- reverse: create index "org_unit_versions_ext_str_10_idx" to table: "org_unit_versions"
DROP INDEX "orgunit"."org_unit_versions_ext_str_10_idx";
-- reverse: create index "org_unit_versions_ext_str_09_idx" to table: "org_unit_versions"
DROP INDEX "orgunit"."org_unit_versions_ext_str_09_idx";
-- reverse: create index "org_unit_versions_ext_str_08_idx" to table: "org_unit_versions"
DROP INDEX "orgunit"."org_unit_versions_ext_str_08_idx";
-- reverse: create index "org_unit_versions_ext_str_07_idx" to table: "org_unit_versions"
DROP INDEX "orgunit"."org_unit_versions_ext_str_07_idx";
-- reverse: create index "org_unit_versions_ext_str_06_idx" to table: "org_unit_versions"
DROP INDEX "orgunit"."org_unit_versions_ext_str_06_idx";
-- reverse: modify "org_unit_versions" table
ALTER TABLE "orgunit"."org_unit_versions" DROP COLUMN "ext_str_70", DROP COLUMN "ext_str_69", DROP COLUMN "ext_str_68", DROP COLUMN "ext_str_67", DROP COLUMN "ext_str_66", DROP COLUMN "ext_str_65", DROP COLUMN "ext_str_64", DROP COLUMN "ext_str_63", DROP COLUMN "ext_str_62", DROP COLUMN "ext_str_61", DROP COLUMN "ext_str_60", DROP COLUMN "ext_str_59", DROP COLUMN "ext_str_58", DROP COLUMN "ext_str_57", DROP COLUMN "ext_str_56", DROP COLUMN "ext_str_55", DROP COLUMN "ext_str_54", DROP COLUMN "ext_str_53", DROP COLUMN "ext_str_52", DROP COLUMN "ext_str_51", DROP COLUMN "ext_str_50", DROP COLUMN "ext_str_49", DROP COLUMN "ext_str_48", DROP COLUMN "ext_str_47", DROP COLUMN "ext_str_46", DROP COLUMN "ext_str_45", DROP COLUMN "ext_str_44", DROP COLUMN "ext_str_43", DROP COLUMN "ext_str_42", DROP COLUMN "ext_str_41", DROP COLUMN "ext_str_40", DROP COLUMN "ext_str_39", DROP COLUMN "ext_str_38", DROP COLUMN "ext_str_37", DROP COLUMN "ext_str_36", DROP COLUMN "ext_str_35", DROP COLUMN "ext_str_34", DROP COLUMN "ext_str_33", DROP COLUMN "ext_str_32", DROP COLUMN "ext_str_31", DROP COLUMN "ext_str_30", DROP COLUMN "ext_str_29", DROP COLUMN "ext_str_28", DROP COLUMN "ext_str_27", DROP COLUMN "ext_str_26", DROP COLUMN "ext_str_25", DROP COLUMN "ext_str_24", DROP COLUMN "ext_str_23", DROP COLUMN "ext_str_22", DROP COLUMN "ext_str_21", DROP COLUMN "ext_str_20", DROP COLUMN "ext_str_19", DROP COLUMN "ext_str_18", DROP COLUMN "ext_str_17", DROP COLUMN "ext_str_16", DROP COLUMN "ext_str_15", DROP COLUMN "ext_str_14", DROP COLUMN "ext_str_13", DROP COLUMN "ext_str_12", DROP COLUMN "ext_str_11", DROP COLUMN "ext_str_10", DROP COLUMN "ext_str_09", DROP COLUMN "ext_str_08", DROP COLUMN "ext_str_07", DROP COLUMN "ext_str_06", DROP COLUMN "ext_num_10", DROP COLUMN "ext_num_09", DROP COLUMN "ext_num_08", DROP COLUMN "ext_num_07", DROP COLUMN "ext_num_06", DROP COLUMN "ext_num_05", DROP COLUMN "ext_num_04", DROP COLUMN "ext_num_03", DROP COLUMN "ext_num_02", DROP COLUMN "ext_num_01", DROP COLUMN "ext_date_15", DROP COLUMN "ext_date_14", DROP COLUMN "ext_date_13", DROP COLUMN "ext_date_12", DROP COLUMN "ext_date_11", DROP COLUMN "ext_date_10", DROP COLUMN "ext_date_09", DROP COLUMN "ext_date_08", DROP COLUMN "ext_date_07", DROP COLUMN "ext_date_06", DROP COLUMN "ext_date_05", DROP COLUMN "ext_date_04", DROP COLUMN "ext_date_03", DROP COLUMN "ext_date_02", DROP COLUMN "ext_bool_15", DROP COLUMN "ext_bool_14", DROP COLUMN "ext_bool_13", DROP COLUMN "ext_bool_12", DROP COLUMN "ext_bool_11", DROP COLUMN "ext_bool_10", DROP COLUMN "ext_bool_09", DROP COLUMN "ext_bool_08", DROP COLUMN "ext_bool_07", DROP COLUMN "ext_bool_06", DROP COLUMN "ext_bool_05", DROP COLUMN "ext_bool_04", DROP COLUMN "ext_bool_03", DROP COLUMN "ext_bool_02", DROP COLUMN "ext_uuid_10", DROP COLUMN "ext_uuid_09", DROP COLUMN "ext_uuid_08", DROP COLUMN "ext_uuid_07", DROP COLUMN "ext_uuid_06", DROP COLUMN "ext_uuid_05", DROP COLUMN "ext_uuid_04", DROP COLUMN "ext_uuid_03", DROP COLUMN "ext_uuid_02", DROP COLUMN "ext_int_15", DROP COLUMN "ext_int_14", DROP COLUMN "ext_int_13", DROP COLUMN "ext_int_12", DROP COLUMN "ext_int_11", DROP COLUMN "ext_int_10", DROP COLUMN "ext_int_09", DROP COLUMN "ext_int_08", DROP COLUMN "ext_int_07", DROP COLUMN "ext_int_06", DROP COLUMN "ext_int_05", DROP COLUMN "ext_int_04", DROP COLUMN "ext_int_03", DROP COLUMN "ext_int_02";
