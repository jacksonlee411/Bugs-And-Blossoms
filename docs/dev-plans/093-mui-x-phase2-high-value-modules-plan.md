# DEV-PLAN-093：MUI X 升级子计划 P2（高价值模块迁移）

**状态**: 规划中（2026-02-12 06:28 UTC）

> 本计划承接 `DEV-PLAN-090` 的 §5.3（Phase 2），优先迁移对业务价值最高的模块，形成可感知收益。

## 1. 子计划范围

- 对应 `DEV-PLAN-090` 步骤：8~10。
- 时间窗口：2~4 周。
- 覆盖模块：组织架构、人员与任职、审批/待办。

## 2. 核心目标（DoD）

- [ ] 组织架构模块完成 Tree + DataGrid 双栏闭环。
- [ ] 人员与任职模块完成复杂筛选、批量动作、详情侧栏。
- [ ] 审批/待办模块完成列表状态流转与详情联动。
- [ ] 模块迁移后关键路径 E2E 可通过。

## 3. 非目标

- 不在本阶段迁移全部长尾页面。
- 不在本阶段重构后端接口契约（仅在必要时新增兼容查询参数）。

## 4. 实施步骤

### 4.1 TP-093-01 组织架构模块

1. [ ] 树组件统一到 MUI Tree（含懒加载协议）。
2. [ ] 右侧列表统一到 DataGridPro（分页/排序/筛选）。
3. [ ] 树-表联动：选中节点驱动列表过滤，保持 URL 可复现。

### 4.2 TP-093-02 人员与任职模块

4. [ ] 人员列表迁移为 DataGridPro，接入表头筛选与快速筛选。
5. [ ] 任职记录迁移为双栏（列表 + 详情），支持批量动作入口。
6. [ ] 统一详情侧栏组件，避免每页重复实现。

### 4.3 TP-093-03 审批/待办模块

7. [ ] 待办列表迁移 DataGridPro，统一状态标签与操作列。
8. [ ] 审批详情页接入侧栏或抽屉模式，并支持列表联动刷新。
9. [ ] 审批动作（同意/拒绝/转交）完成结果反馈规范化。

### 4.4 回归与验收

10. [ ] 每个子模块完成一次可演示走查（产品+研发+测试）。
11. [ ] 每个子模块至少 1 条 E2E 主路径通过并固化。

## 5. 验收标准

- [ ] 三个高价值模块均具备“筛选 + 列表 + 详情 + 操作”闭环。
- [ ] 页面响应性能、交互一致性优于迁移前基线（以基准报告为准）。
- [ ] 不出现“新壳 + 旧页面”导致的交互冲突。

## 6. 风险与缓解

- 风险：模块间交互口径不一致，导致重复实现。  
  缓解：统一 `DataGridPage` 与 `DetailPanel` 契约，模块禁止私有分叉。
- 风险：批量操作误触发影响业务。  
  缓解：引入二次确认 + 明确反馈 + 操作审计。

## 7. 关联计划

- 总方案：`docs/dev-plans/090-mui-x-frontend-upgrade-plan.md`
- 组织相关：`docs/dev-plans/073-orgunit-crud-implementation-status.md`
- 质量门禁：`docs/dev-plans/012-ci-quality-gates.md`
