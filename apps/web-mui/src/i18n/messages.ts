export type Locale = 'en' | 'zh'
export type MessageVars = Record<string, string | number>

const messages = {
  en: {
    app_title: 'Bugs & Blossoms · MUI X Workspace',
    language_label: 'Language',
    language_en: 'English',
    language_zh: 'Chinese',
    theme_label: 'Theme',
    theme_light: 'Light',
    theme_dark: 'Dark',
    global_search: 'Global Search',
    global_search_placeholder: 'Search navigation and common pages',
    global_search_empty: 'No results',
    search_source_navigation: 'Navigation',
    search_source_common: 'Common',
    nav_debug_mode: 'Debug: hidden by permission',
    nav_foundation_demo: 'Foundation Demo',
    nav_org_units: 'Organization Units',
    nav_people: 'People Directory',
    nav_approvals: 'Approvals',
    common_recent_changes: 'Recent Changes',
    common_my_tasks: 'My Tasks',
    common_detail: 'Details',
    common_cancel: 'Cancel',
    common_confirm: 'Confirm',
    common_select_rows: 'Select at least one row',
    common_action_done: 'Action completed',
    common_selected_count: '{count} selected',
    page_foundation_title: 'Foundation Demo',
    page_foundation_subtitle: 'P091 baseline: tree + grid + detail panel + filter bar',
    page_department_tree: 'Department Tree',
    page_search_label: 'Search (name / department / position)',
    page_status_label: 'Status',
    status_all: 'All',
    status_active: 'Active',
    status_inactive: 'Inactive',
    status_active_short: 'Active',
    status_inactive_short: 'Inactive',
    text_no_data: 'No data',
    text_loading: 'Loading...',
    text_name: 'Name',
    text_department: 'Department',
    text_position: 'Position',
    text_status: 'Status',
    text_detail_title: 'Details',
    text_employment_info: 'Employment Info',
    action_apply_filters: 'Apply Filters',
    page_org_title: 'Organization Units',
    page_org_subtitle: 'Tree + list linkage with URL-restorable filters',
    org_tree_title: 'Organization Tree',
    org_filter_keyword: 'Search org unit',
    org_filter_status: 'Org status',
    org_column_code: 'Code',
    org_column_name: 'Name',
    org_column_manager: 'Manager',
    org_column_headcount: 'Headcount',
    org_column_effective_date: 'Effective Date',
    org_detail_title_suffix: 'Org Unit Profile',
    page_people_title: 'People & Assignments',
    page_people_subtitle: 'Complex filters + bulk actions + detail panel',
    people_filter_keyword: 'Search people',
    people_filter_status: 'Employment status',
    people_filter_assignment: 'Assignment Type',
    people_column_employee_id: 'Employee ID',
    people_column_name: 'Name',
    people_column_department: 'Department',
    people_column_position: 'Position',
    people_column_assignment: 'Assignment',
    people_bulk_disable: 'Bulk Disable',
    people_bulk_enable: 'Bulk Enable',
    people_bulk_transfer: 'Bulk Transfer',
    people_bulk_confirm_title: 'Bulk Action Confirmation',
    people_bulk_confirm_message: 'This action will update selected records.',
    page_approvals_title: 'Approvals Inbox',
    page_approvals_subtitle: 'Status transitions + detail linkage',
    approvals_filter_status: 'Approval status',
    approvals_column_requester: 'Requester',
    approvals_column_type: 'Type',
    approvals_column_submitted_at: 'Submitted At',
    approvals_column_status: 'Status',
    approvals_column_actions: 'Actions',
    approvals_action_approve: 'Approve',
    approvals_action_reject: 'Reject',
    approvals_action_forward: 'Forward',
    status_pending: 'Pending',
    status_approved: 'Approved',
    status_rejected: 'Rejected',
    status_forwarded: 'Forwarded',
    assignment_primary: 'Primary',
    assignment_secondary: 'Secondary',
    page_no_access_title: 'No Access',
    page_no_access_subtitle: 'Current account has no permission for this page.'
  },
  zh: {
    app_title: 'Bugs & Blossoms · MUI X 工作台',
    language_label: '语言',
    language_en: '英文',
    language_zh: '中文',
    theme_label: '主题',
    theme_light: '浅色',
    theme_dark: '深色',
    global_search: '全局搜索',
    global_search_placeholder: '搜索导航与常用页面',
    global_search_empty: '无匹配结果',
    search_source_navigation: '导航',
    search_source_common: '常用',
    nav_debug_mode: '调试：该项因权限被隐藏',
    nav_foundation_demo: '基座示例',
    nav_org_units: '组织架构',
    nav_people: '人员目录',
    nav_approvals: '审批待办',
    common_recent_changes: '最近变更',
    common_my_tasks: '我的任务',
    common_detail: '详情',
    common_cancel: '取消',
    common_confirm: '确认',
    common_select_rows: '请至少选择一条记录',
    common_action_done: '操作已完成',
    common_selected_count: '已选择 {count} 条',
    page_foundation_title: 'Foundation Demo',
    page_foundation_subtitle: 'P091 基座示例：树 + 表 + 详情侧栏 + 统一筛选栏',
    page_department_tree: '部门树',
    page_search_label: '搜索（姓名/部门/岗位）',
    page_status_label: '状态',
    status_all: '全部',
    status_active: '在职',
    status_inactive: '离职',
    status_active_short: '在职',
    status_inactive_short: '离职',
    text_no_data: '暂无数据',
    text_loading: '加载中...',
    text_name: '姓名',
    text_department: '部门',
    text_position: '岗位',
    text_status: '状态',
    text_detail_title: '详情',
    text_employment_info: '任职信息',
    action_apply_filters: '应用筛选',
    page_org_title: '组织架构',
    page_org_subtitle: '树 + 列表联动，筛选条件可由 URL 复现',
    org_tree_title: '组织树',
    org_filter_keyword: '搜索组织',
    org_filter_status: '组织状态',
    org_column_code: '编码',
    org_column_name: '名称',
    org_column_manager: '负责人',
    org_column_headcount: '编制人数',
    org_column_effective_date: '生效日期',
    org_detail_title_suffix: '组织档案',
    page_people_title: '人员与任职',
    page_people_subtitle: '复杂筛选 + 批量操作 + 详情侧栏',
    people_filter_keyword: '搜索人员',
    people_filter_status: '任职状态',
    people_filter_assignment: '任职类型',
    people_column_employee_id: '工号',
    people_column_name: '姓名',
    people_column_department: '部门',
    people_column_position: '岗位',
    people_column_assignment: '任职类型',
    people_bulk_disable: '批量停用',
    people_bulk_enable: '批量启用',
    people_bulk_transfer: '批量转岗',
    people_bulk_confirm_title: '批量操作确认',
    people_bulk_confirm_message: '该操作会更新已选记录，请确认。',
    page_approvals_title: '审批待办',
    page_approvals_subtitle: '状态流转 + 列表详情联动',
    approvals_filter_status: '审批状态',
    approvals_column_requester: '发起人',
    approvals_column_type: '流程类型',
    approvals_column_submitted_at: '提交时间',
    approvals_column_status: '状态',
    approvals_column_actions: '操作',
    approvals_action_approve: '同意',
    approvals_action_reject: '拒绝',
    approvals_action_forward: '转交',
    status_pending: '待审批',
    status_approved: '已同意',
    status_rejected: '已拒绝',
    status_forwarded: '已转交',
    assignment_primary: '主岗',
    assignment_secondary: '兼岗',
    page_no_access_title: '无访问权限',
    page_no_access_subtitle: '当前账号无该页面访问权限。'
  }
} as const

export type MessageKey = keyof typeof messages.en

export function getMessage(locale: Locale, key: MessageKey, vars?: MessageVars): string {
  let message: string = messages[locale][key]
  if (!vars) {
    return message
  }

  for (const [name, value] of Object.entries(vars)) {
    message = message.replaceAll(`{${name}}`, String(value))
  }

  return message
}
